# MouseEngine

MouseEngine æ˜¯ä¸€ä¸ª **åŸºäº Wallpaper Engine çš„ Windows é¼ æ ‡æŒ‡é’ˆè‡ªåŠ¨åˆ‡æ¢å·¥å…·**ã€‚
å®ƒèƒ½å¤Ÿæ ¹æ®å½“å‰æ˜¾ç¤ºå™¨æ‰€ä½¿ç”¨çš„å£çº¸ï¼Œ**è‡ªåŠ¨åˆ‡æ¢å¯¹åº”çš„é¼ æ ‡æŒ‡é’ˆä¸»é¢˜**ï¼Œå¹¶æ”¯æŒå¤šæ˜¾ç¤ºå™¨ã€é»˜è®¤å›é€€ã€ç³»ç»Ÿæ‰˜ç›˜å¸¸é©»è¿è¡Œã€‚

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ¨ **å£çº¸é©±åŠ¨é¼ æ ‡æŒ‡é’ˆåˆ‡æ¢**
  - è¯»å– Wallpaper Engine å½“å‰å£çº¸é¡¹ç›® ID
  - æ ¹æ®é…ç½®è‡ªåŠ¨åˆ‡æ¢é¼ æ ‡æŒ‡é’ˆä¸»é¢˜

- ğŸ–¥ **å¤šæ˜¾ç¤ºå™¨æ”¯æŒ**
  - è‡ªåŠ¨è¯†åˆ«å½“å‰é¼ æ ‡æ‰€åœ¨æ˜¾ç¤ºå™¨
  - æ¯ä¸ªæ˜¾ç¤ºå™¨å¯ä½¿ç”¨ä¸åŒå£çº¸ â†’ ä¸åŒé¼ æ ‡ä¸»é¢˜

- â™» **é»˜è®¤å›é€€æœºåˆ¶**
  - æœªé…ç½®æ˜ å°„æ—¶ï¼Œå¯è‡ªåŠ¨ä½¿ç”¨é»˜è®¤é¼ æ ‡æŒ‡é’ˆç»„

- âš™ **å¯è§†åŒ–è®¾ç½®ç•Œé¢**
  - Wallpaper Engine è·¯å¾„é…ç½®
  - é»˜è®¤é¼ æ ‡æŒ‡é’ˆå¼€å…³
  - æ’­æ”¾åˆ—è¡¨å¿«é€Ÿé…ç½®ä¸è®¾ç½®

- ğŸ“Œ **ç³»ç»Ÿæ‰˜ç›˜å¸¸é©»**
  - åå°ç›‘å¬å£çº¸å˜åŒ–
  - æ‰˜ç›˜èœå•å¿«é€Ÿæ‰“å¼€é…ç½® / è®¾ç½®
  - å®‰å…¨é€€å‡º

---

## ğŸ§© å·¥ä½œåŸç†ç®€è¿°

1. è¯»å– Wallpaper Engine çš„ `config.json`
2. è·å–å½“å‰æ˜¾ç¤ºå™¨æ­£åœ¨ä½¿ç”¨çš„å£çº¸é¡¹ç›® ID
3. åœ¨ `config.toml` ä¸­æŸ¥æ‰¾å¯¹åº”çš„é¼ æ ‡ä¸»é¢˜
4. è°ƒç”¨ Windows API åº”ç”¨é¼ æ ‡æŒ‡é’ˆ
5. è‹¥æ— åŒ¹é…é¡¹ï¼Œæ ¹æ®è®¾ç½®å†³å®šæ˜¯å¦ä½¿ç”¨é»˜è®¤ä¸»é¢˜

---

## ğŸš€ å¿«é€Ÿéƒ¨ç½²ï¼ˆæ¨èï¼‰

> é€‚åˆç¬¬ä¸€æ¬¡ä½¿ç”¨ / åªæƒ³å¿«é€Ÿè·‘èµ·æ¥

### 1) å…‹éš†ä»“åº“

```bash
git clone https://github.com/yourname/MouseEngine.git
cd MouseEngine
```

### 2) åˆ›å»ºå¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼ˆæ¨èï¼‰

```bash
python -m venv venv
.\venv\Scripts\activate
```

### 3) å®‰è£…ä¾èµ–

å¦‚æœä»“åº“å·²æä¾› `requirements.txt`ï¼š

```bash
pip install -r requirements.txt
```


ï¼ˆå¯é€‰ï¼šç”¨äºå¹¶å‘æ–‡ä»¶é”ï¼Œæ¶ˆé™¤ Warningï¼‰

```bash
pip install portalocker
```

### 4) å¯åŠ¨ç¨‹åº

```bash
python main.py
```

---

## ğŸ”§ è¯¦ç»†éƒ¨ç½²è¯´æ˜ï¼ˆè¿›é˜¶ï¼‰

### ğŸ“ é¡¹ç›®ç›®å½•ç»“æ„ï¼ˆå‚è€ƒï¼‰

```text
MouseEngine/
â”œâ”€ main.py                  # ä¸»ç¨‹åºï¼ˆç›‘å¬ + æ‰˜ç›˜ï¼‰
â”œâ”€ config.toml              # ä¸»é…ç½®æ–‡ä»¶
â”œâ”€ ui/ï¼ˆå¯ç‹¬ç«‹è¿è¡Œï¼‰
â”‚  â”œâ”€ main_gui.py           # é…ç½®é¼ æ ‡ç»„ UI
â”‚  â”œâ”€ playlist_gui.py       # ç»‘å®šé¼ æ ‡ç»„ UI
â”‚  â””â”€ settings_ui.py        # è®¾ç½® UI
â”œâ”€ mouses/
â”‚  â”œâ”€ é»˜è®¤/
â”‚  â”‚  â””â”€ config.toml
â”‚  â””â”€ è‡ªå®šä¹‰ä¸»é¢˜/
â”‚     â””â”€ config.toml
â”œâ”€ src/
â”‚  â”œâ”€ getWallpaperConfig.py
â”‚  â”œâ”€ setMouse.py
â”‚  â””â”€ ...
â”œâ”€ docs/
â”‚  â””â”€ licenses/             # ç¬¬ä¸‰æ–¹è®¸å¯è¯åŸæ–‡
â”œâ”€ LICENSE
â”œâ”€ THIRD_PARTY_NOTICES.txt
â””â”€ README.md
```

---

## âš™ é…ç½®è¯´æ˜ï¼ˆconfig.tomlï¼‰

### 1) Wallpaper Engine é…ç½®æ–‡ä»¶è·¯å¾„

åœ¨ `config.toml` ä¸­è®¾ç½® Wallpaper Engine çš„ `config.json` è·¯å¾„ï¼š

```toml
[path]
wallpaper_engine_config = "D:/Steam/steamapps/common/wallpaper_engine/config.json"
```

ä½ ä¹Ÿå¯ä»¥é€šè¿‡ã€Œè®¾ç½®ã€ç•Œé¢çš„â€œè‡ªåŠ¨æŸ¥æ‰¾ / æµè§ˆæ–‡ä»¶å¤¹â€æŒ‰é’®å¡«å†™å¹¶å†™å…¥ã€‚

---

### 2) é»˜è®¤é¼ æ ‡æŒ‡é’ˆå›é€€

å½“å½“å‰å£çº¸ ID æœªæ˜ å°„åˆ°ä»»ä½•è‡ªå®šä¹‰ä¸»é¢˜æ—¶ï¼Œæ˜¯å¦å›é€€åˆ° `mouses/é»˜è®¤/`ï¼š

```toml
[config]
enable_default_icon_group = true
```

---

### 3) å£çº¸ ID â†’ é¼ æ ‡ä¸»é¢˜æ˜ å°„

```toml
[wallpaper]
3406760593 = "æ·±è‰²ä¸»é¢˜"
3409595232 = "æµ…è‰²ä¸»é¢˜"
```

è¯´æ˜ï¼š
- å·¦è¾¹æ˜¯ Wallpaper Engine çš„é¡¹ç›® ID
- å³è¾¹æ˜¯ `mouses/<ä¸»é¢˜å>/` çš„æ–‡ä»¶å¤¹å

---

## ğŸ–± é¼ æ ‡ä¸»é¢˜ç»“æ„è¯´æ˜

æ¯ä¸ªé¼ æ ‡ä¸»é¢˜æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œä¾‹å¦‚ï¼š

```text
mouses/æ·±è‰²ä¸»é¢˜/
â””â”€ config.toml
```

ç¤ºä¾‹ï¼š

```toml
[mouses]
Arrow = "arrow.cur"
Hand = "hand.cur"
Wait = "wait.ani"
```

ï¼ˆå®é™…å¯æŒ‰ä½ çš„ä¸»é¢˜é…ç½®æ‰©å±•æ›´å¤šé¡¹ï¼‰

---

## ğŸ§ª å¸¸è§é—®é¢˜ï¼ˆFAQï¼‰

### Q1ï¼šç³»ç»Ÿæ‰˜ç›˜æ²¡æœ‰æ˜¾ç¤ºï¼Ÿ
- ç¡®è®¤å·²å®‰è£… `pystray` å’Œ `Pillow`
- ç¡®è®¤åœ¨â€œæœ‰æ¡Œé¢ä¼šè¯â€çš„ç¯å¢ƒè¿è¡Œï¼ˆä¸æ˜¯æ— æ¡Œé¢ / è¿œç¨‹æœåŠ¡ç¯å¢ƒï¼‰
- ä½¿ç”¨åŒä¸€ä¸ª Python/venv è¿è¡Œ `main.py`

### Q2ï¼šæç¤º `portalocker not installed`ï¼Ÿ
- è¿™æ˜¯å¯é€‰è­¦å‘Šï¼šè¡¨ç¤ºæœªå®‰è£…æ–‡ä»¶é”åº“
- å•å®ä¾‹ä½¿ç”¨é€šå¸¸å¯ä»¥å¿½ç•¥
- å®‰è£…å³å¯æ¶ˆé™¤ï¼š

```bash
pip install portalocker
```

### Q3ï¼šæ—¥å¿—æç¤ºâ€œæœªæ‰¾åˆ°å£çº¸ ID å¯¹åº”ä¸»é¢˜â€ï¼Œé¼ æ ‡ä¸å˜ï¼Ÿ
- åœ¨ `config.toml` çš„ `[wallpaper]` ä¸­æ·»åŠ è¯¥å£çº¸ ID çš„æ˜ å°„
- æˆ–å¼€å¯ `[config] enable_default_icon_group = true` ä½œä¸ºå›é€€

---

## ğŸ“œ è®¸å¯è¯ä¸ç¬¬ä¸‰æ–¹å£°æ˜

- æœ¬é¡¹ç›®è®¸å¯è¯ï¼š`LICENSE`
- ç¬¬ä¸‰æ–¹ä¾èµ–æ¸…å•ï¼š`THIRD_PARTY_NOTICES.txt`
- ç¬¬ä¸‰æ–¹è®¸å¯è¯åŸæ–‡ï¼š`docs/licenses/`

---

## ğŸ¤ è´¡çŒ®ä¸åé¦ˆ

æ¬¢è¿æäº¤ Issue / Pull Requestã€‚  
å¦‚æœä½ é‡åˆ°é—®é¢˜ï¼Œå»ºè®®é™„ä¸Šè¿è¡Œæ—¥å¿—ä¸ `config.toml`ï¼ˆæ³¨æ„éšè—éšç§è·¯å¾„ï¼‰ã€‚